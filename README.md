# F1-2019-App-for-Splunk
Accompanying app for the "F1 2019 Add-on for Splunk". The app is designed to be minimal and shows different gaming rigs that are sending data to Splunk and a real-time dashboard for live lap data from the Codemasters F1 2019 game.

Upto date details can be found on the Splunkbase listing [F1 2019 App for Splunk](https://splunkbase.splunk.com/app/4915)

F1 2019 app
===========

Contained within the app are dashboards, lookups and a macro.

The 4 **dashboards** show -

* which gaming rigs have sent data to Splunk within the last 24 hours
* real time "In Car" details as the car goes around the track. This dashboard can be reached by clicking the game rig in the previous dashboard.
* raw telemetry generated by F1 2019 add-on
* F1 2019 add-on performance by counting processed events by source, port and host

The **lookups** enrich the F1 2019 data with additional information such as driver names, team names, track names, etc. Lookups created are based on [f1-2019-telemetry packets.py version 1.1.4](https://gitlab.com/reddish/f1-2019-telemetry/-/blob/master/f1_2019_telemetry/packets.py) which in turn is based on [Codemasters F1 2019 UDP Specification](https://forums.codemasters.com/topic/44592-f1-2019-udp-specification/) including the following exceptions -

* lookups with 2 or less rows have not been created
* f1_2019_driverId with driverId(s) 100-121 as "Not Set"
* f1_2019_nationality with nationality Id 0 as "Not Set"

The **macro** decodes which buttons in the game have been pressed.

The app is designed to be minimal to show example F1 2019 data appearing within Splunk.

Assumptions
===========

The F1 2019 app assumes that all gaming rigs can be uniquely identified with a combination of UDP telemetry port, IP name/address of gaming rig, and data collection IP name/address. If any gaming rigs have the same IP name/address and data collection IP name/address combination ensure the UDP telemetry ports are different for each gaming rig. If this is not possible then the SPL will need to be reworked to consider the **header.sessionUID** field.


Splunk Setup
============

After the the app has been installed please restart Splunk.

Generating F1 2019 data
=======================

The [F1 2019 Add-on for Splunk](https://splunkbase.splunk.com/app/4881/) is the add-on which this app is built around. It will need to be installed and configured in order for the dashboards to show any data. Alternatively look at the [Github "F1 2019 Add-on for Splunk"](https://github.com/mark-sivill-splunk/F1-2019-Add-on-for-Splunk) listing.
